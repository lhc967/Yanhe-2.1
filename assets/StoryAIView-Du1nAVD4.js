import{_ as k,u as g,c as o,d as t,t as i,H as m,I as $,Y as w,C as p,D as C,F as S,G as T,r as c,a0 as x,i as l,n as I,E as V}from"./index-CVi_qNo8.js";const D={class:"story-ai-page"},B={class:"ai-header"},j={class:"ai-title"},q={class:"chat-msg ai"},z={class:"bubble"},A={key:0,class:"avatar"},E={key:1,class:"result-card"},H={class:"card-header"},N={class:"card-tag"},R=["onClick"],F={class:"card-content"},G={key:2,class:"bubble"},K={key:0,class:"chat-msg ai"},M={class:"ai-footer"},L={key:0,class:"quick-actions"},P={class:"input-box"},U=["placeholder"],W=["disabled"],Y={__name:"StoryAIView",setup(J){const{t:_,locale:f}=g(),n=c(""),u=c(!1),r=c(null),d=c([]),v=e=>{n.value=e,document.querySelector(".input-box input").focus()},b=()=>{const e=n.value.trim();e&&(d.value.push({id:Date.now(),role:"user",text:e}),n.value="",y(),u.value=!0,setTimeout(()=>{u.value=!1;const s=e.includes("æ–‡æ¡ˆ")||e.includes("Copy")||e.includes("Polish");let a="";f.value==="en"?a=s?`[Spring Garden Stroll]

Spring breeze brushes the face, willows sway gently. Walking in the garden in Hanfu feels like traveling back a thousand years.`:"Received. I am searching for relevant information...":a=s?`ã€æ˜¥æ—¥æ¸¸å›­ã€‘

æ˜¥é£Žæ‹‚é¢ï¼Œæ¨æŸ³ä¾ä¾ã€‚ç©¿ä¸Šæ±‰æœæ¼«æ­¥åœ¨å›­æž—ä¹‹ä¸­ï¼Œä»¿ä½›ç©¿è¶Šäº†åƒå¹´æ—¶å…‰ã€‚

Spring breeze brushes the face, willows sway gently.`:"æ”¶åˆ°ï¼Œå°ç«¥è¿™å°±ä¸ºæ‚¨æŸ¥æ‰¾ç›¸å…³èµ„æ–™...",d.value.push({id:Date.now()+1,role:"ai",isCard:s,text:a}),y()},1500))},y=()=>{x(()=>{r.value&&(r.value.scrollTop=r.value.scrollHeight)})},h=e=>{navigator.clipboard.writeText(e),V.success(_("story_ai.copied"))};return(e,s)=>(l(),o("div",D,[t("div",B,[t("button",{class:"close-btn",onClick:s[0]||(s[0]=a=>e.$router.back())},[...s[5]||(s[5]=[t("i",{class:"bi bi-x-lg"},null,-1)])]),t("div",j,i(e.$t("story_ai.title")),1)]),t("div",{class:"chat-scroll",ref_key:"chatRef",ref:r},[t("div",q,[s[6]||(s[6]=t("div",{class:"avatar"},[t("i",{class:"bi bi-journal-text"})],-1)),t("div",z,[t("p",null,i(e.$t("story_ai.welcome.greeting")),1),t("p",null,i(e.$t("story_ai.welcome.desc")),1)])]),(l(!0),o(m,null,$(d.value,a=>(l(),o("div",{key:a.id,class:I(["chat-msg",a.role])},[a.role==="ai"?(l(),o("div",A,[...s[7]||(s[7]=[t("i",{class:"bi bi-journal-text"},null,-1)])])):p("",!0),a.isCard?(l(),o("div",E,[t("div",H,[t("span",N,i(e.$t("story_ai.card_tag")),1),t("button",{class:"copy-btn",onClick:O=>h(a.text)},[...s[8]||(s[8]=[t("i",{class:"bi bi-files"},null,-1)])],8,R)]),t("div",F,i(a.text),1)])):(l(),o("div",G,i(a.text),1))],2))),128)),u.value?(l(),o("div",K,[...s[9]||(s[9]=[w('<div class="avatar" data-v-c97b98f2><i class="bi bi-journal-text" data-v-c97b98f2></i></div><div class="bubble loading" data-v-c97b98f2><span class="dot" data-v-c97b98f2></span><span class="dot" data-v-c97b98f2></span><span class="dot" data-v-c97b98f2></span></div>',2)])])):p("",!0)],512),t("div",M,[d.value.length<3?(l(),o("div",L,[t("button",{onClick:s[1]||(s[1]=a=>v(e.$t("story_ai.actions.polish_prompt")))},"ðŸ–‹ï¸ "+i(e.$t("story_ai.actions.polish")),1),t("button",{onClick:s[2]||(s[2]=a=>v(e.$t("story_ai.actions.fest_prompt")))},"ðŸŒ™ "+i(e.$t("story_ai.actions.fest")),1),t("button",{onClick:s[3]||(s[3]=a=>v(e.$t("story_ai.actions.culture_prompt")))},"ðŸ® "+i(e.$t("story_ai.actions.culture")),1)])):p("",!0),t("div",P,[C(t("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>n.value=a),placeholder:e.$t("story_ai.input_ph"),onKeyup:T(b,["enter"])},null,40,U),[[S,n.value]]),t("button",{class:"send-btn",onClick:b,disabled:!n.value.trim()},[...s[10]||(s[10]=[t("i",{class:"bi bi-arrow-up"},null,-1)])],8,W)])])]))}},X=k(Y,[["__scopeId","data-v-c97b98f2"]]);export{X as default};
