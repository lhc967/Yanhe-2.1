import{_ as y,u as $,a as k,c as l,d as e,f as c,t as o,H as w,I as T,C as I,D as x,F as M,G as V,p as C,r as u,a0 as D,q as B,i as r,n as E,e as N}from"./index-CVi_qNo8.js";const A={class:"ai-debate-page"},R={class:"debate-header"},S={class:"debate-topic"},q={class:"label"},F={class:"val"},H={class:"ai-status"},K={class:"debate-body"},U={class:"msg-row ai"},z={class:"bubble"},G={key:0,class:"avatar"},L={key:1,class:"avatar user"},j=["src"],J={class:"bubble"},O={key:0,class:"msg-row ai"},P={class:"bubble typing"},Q={class:"debate-footer"},W={class:"input-wrapper"},X=["placeholder"],Y=["disabled"],Z={__name:"EducationAIView",setup(ee){const{t:v}=$(),m=B(),f=k(),n=u(""),i=u(!1),d=u(null),b=u([]),p=C(()=>{const t=m.query.topic||"general";return v(`debate.topics.${t}`)}),_=async()=>{const t=n.value.trim();if(!t)return;const s={id:Date.now(),role:"user",text:t};b.value.push(s),n.value="",h(),i.value=!0;try{setTimeout(()=>{i.value=!1;const a=`${v("debate.chat.ai_reply_prefix")} “${t.substring(0,10)}...” ${v("debate.chat.ai_reply_body")}`,g={id:Date.now()+1,role:"ai",text:a};b.value.push(g),h()},2e3)}catch(a){i.value=!1,console.error("AI Error",a)}},h=()=>{D(()=>{d.value&&(d.value.scrollTop=d.value.scrollHeight)})};return(t,s)=>(r(),l("div",A,[e("div",R,[e("button",{class:"back-btn",onClick:s[0]||(s[0]=a=>t.$router.back())},[s[2]||(s[2]=e("i",{class:"bi bi-chevron-left"},null,-1)),c(" "+o(t.$t("debate.header.end_chat")),1)]),e("div",S,[e("span",q,o(t.$t("debate.header.topic_label")),1),e("span",F,o(p.value),1)]),e("div",H,[s[3]||(s[3]=e("span",{class:"dot"},null,-1)),c(" "+o(t.$t("debate.header.status_online")),1)])]),e("div",K,[e("div",{class:"chat-container",ref_key:"chatRef",ref:d},[e("div",U,[s[4]||(s[4]=e("div",{class:"avatar master-avatar"},[e("img",{src:"https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Master"})],-1)),e("div",z,[e("p",null,[c(o(t.$t("debate.chat.welcome_prefix"))+" ",1),e("strong",null,o(p.value),1),c(" "+o(t.$t("debate.chat.welcome_suffix")),1)]),e("p",null,o(t.$t("debate.chat.welcome_invite")),1)])]),(r(!0),l(w,null,T(b.value,a=>(r(),l("div",{key:a.id,class:E(["msg-row",a.role])},[a.role==="ai"?(r(),l("div",G,[...s[5]||(s[5]=[e("img",{src:"https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Master"},null,-1)])])):(r(),l("div",L,[e("img",{src:N(f).userInfo.avatar},null,8,j)])),e("div",J,o(a.text),1)],2))),128)),i.value?(r(),l("div",O,[s[6]||(s[6]=e("div",{class:"avatar"},[e("img",{src:"https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Master"})],-1)),e("div",P,o(t.$t("debate.chat.thinking")),1)])):I("",!0)],512)]),e("div",Q,[e("div",W,[x(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),placeholder:t.$t("debate.footer.input_placeholder"),onKeyup:V(_,["enter"])},null,40,X),[[M,n.value]]),e("button",{class:"send-btn",onClick:_,disabled:!n.value.trim()},o(t.$t("debate.footer.send_btn")),9,Y)])])]))}},se=y(Z,[["__scopeId","data-v-e3a60794"]]);export{se as default};
