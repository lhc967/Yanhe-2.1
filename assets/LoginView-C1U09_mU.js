import{_ as R,u as j,a as E,c,d as e,t as n,j as s,k as i,f as g,n as _,T as q,l as F,w as U,m as w,r as k,p as I,g as T,h as A,q as D,i as p,e as m,s as G,v as J,x as K,y as O,z as L,A as P,E as $}from"./index-CVi_qNo8.js";const Q={class:"login-page"},W={class:"login-header"},X={class:"logo-text"},Y={class:"login-body"},Z={key:"ent",class:"brand-text"},x={class:"icon-wrap"},ee=["innerHTML"],oe={key:"ind",class:"brand-text"},le={class:"icon-wrap"},se=["innerHTML"],ne={class:"badge-wall"},te={class:"wall-title"},ae={class:"badges"},ie={class:"form-card"},de={class:"role-switch"},re={key:0,class:"form-content"},ue={class:"welcome-title"},ce={class:"welcome-sub"},ge={class:"input-group"},pe={class:"input-group"},me={class:"action-row"},ve={class:"forgot-pwd"},_e=["disabled"],be={class:"switch-view"},fe={key:1,class:"form-content"},he={class:"welcome-title"},we={class:"welcome-sub"},$e={key:0,class:"input-group"},Ve={key:1,class:"input-group"},ke={class:"input-group"},ye={class:"input-group"},ze={class:"agreement-box"},Ce={class:"link"},Ue={class:"switch-view"},Te={__name:"LoginView",setup(Le){const{t:b}=j(),y=A(),S=D(),M=E(),a=k("enterprise"),f=k("login"),h=k(!1),N=I(()=>({})),r=T({account:"",password:"",remember:!1}),d=T({orgName:"",school:"",account:"",password:"",agree:!1}),z=()=>y.push("/portal"),H=()=>{if(!r.account||!r.password)return $.warning(b("login.msg.input_error"));h.value=!0,setTimeout(()=>{h.value=!1,M.login("token-123",{name:a.value==="enterprise"?"言禾科技":"李华",role:a.value,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${a.value}`}),$.success(b("login.msg.login_success")),y.push(S.query.redirect||"/portal")},1e3)},B=()=>{if(!d.agree)return $.warning(b("login.msg.agree_error"));$.success(b("login.msg.register_success")),f.value="login"};return(l,o)=>{const u=w("el-icon"),V=w("el-tooltip"),v=w("el-input"),C=w("el-checkbox");return p(),c("div",Q,[e("header",W,[e("div",{class:"brand-box",onClick:z},[e("span",X,n(l.$t("brand")),1)]),e("div",{class:"back-box",onClick:z},[s(u,null,{default:i(()=>[s(m(G))]),_:1}),o[12]||(o[12]=g()),e("span",null,n(l.$t("login.back_home")),1)])]),e("div",Y,[e("div",{class:_(["brand-side",{"student-mode":a.value==="individual"}])},[o[17]||(o[17]=e("div",{class:"bg-circle c1"},null,-1)),o[18]||(o[18]=e("div",{class:"bg-circle c2"},null,-1)),s(q,{name:"fade",mode:"out-in"},{default:i(()=>[a.value==="enterprise"?(p(),c("div",Z,[e("div",x,[s(u,null,{default:i(()=>[s(m(J))]),_:1})]),e("h1",{innerHTML:l.$t("login.brand.ent_title")},null,8,ee),e("p",null,n(l.$t("login.brand.ent_desc")),1)])):(p(),c("div",oe,[e("div",le,[s(u,null,{default:i(()=>[s(m(K))]),_:1})]),e("h1",{innerHTML:l.$t("login.brand.ind_title")},null,8,se),e("p",null,n(l.$t("login.brand.ind_desc")),1),e("div",ne,[e("div",te,n(l.$t("login.brand.badge_title")),1),e("div",ae,[s(V,{content:l.$t("login.brand.badge_gold"),placement:"top"},{default:i(()=>[...o[13]||(o[13]=[e("div",{class:"badge-item gold"},[e("i",{class:"bi bi-patch-check-fill"})],-1)])]),_:1},8,["content"]),s(V,{content:l.$t("login.brand.badge_silver"),placement:"top"},{default:i(()=>[...o[14]||(o[14]=[e("div",{class:"badge-item silver"},[e("i",{class:"bi bi-trophy-fill"})],-1)])]),_:1},8,["content"]),s(V,{content:l.$t("login.brand.badge_bronze"),placement:"top"},{default:i(()=>[...o[15]||(o[15]=[e("div",{class:"badge-item bronze"},[e("i",{class:"bi bi-calendar-check-fill"})],-1)])]),_:1},8,["content"]),o[16]||(o[16]=e("div",{class:"badge-item empty"},"+",-1))])])]))]),_:1})],2),e("div",{class:"form-side",style:F(N.value)},[e("div",ie,[e("div",de,[e("div",{class:_(["switch-item",{active:a.value==="enterprise"}]),onClick:o[0]||(o[0]=t=>a.value="enterprise")},[s(u,null,{default:i(()=>[s(m(O))]),_:1}),g(" "+n(l.$t("login.role_ent")),1)],2),e("div",{class:_(["switch-item",{active:a.value==="individual"}]),onClick:o[1]||(o[1]=t=>a.value="individual")},[s(u,null,{default:i(()=>[s(m(L))]),_:1}),g(" "+n(l.$t("login.role_ind")),1)],2)]),f.value==="login"?(p(),c("div",re,[e("h2",ue,n(l.$t("login.welcome")),1),e("p",ce,n(a.value==="individual"?l.$t("login.sub_ind"):l.$t("login.sub_ent")),1),e("form",{onSubmit:U(H,["prevent"])},[e("div",ge,[s(v,{modelValue:r.account,"onUpdate:modelValue":o[2]||(o[2]=t=>r.account=t),placeholder:a.value==="enterprise"?l.$t("login.placeholder.ent_account"):l.$t("login.placeholder.ind_account"),size:"large"},{prefix:i(()=>[s(u,null,{default:i(()=>[s(m(L))]),_:1})]),_:1},8,["modelValue","placeholder"])]),e("div",pe,[s(v,{modelValue:r.password,"onUpdate:modelValue":o[3]||(o[3]=t=>r.password=t),type:"password",placeholder:l.$t("login.placeholder.password"),size:"large","show-password":""},{prefix:i(()=>[s(u,null,{default:i(()=>[s(m(P))]),_:1})]),_:1},8,["modelValue","placeholder"])]),e("div",me,[s(C,{modelValue:r.remember,"onUpdate:modelValue":o[4]||(o[4]=t=>r.remember=t)},{default:i(()=>[g(n(l.$t("login.remember")),1)]),_:1},8,["modelValue"]),e("span",ve,n(l.$t("login.forgot")),1)]),e("button",{type:"submit",class:_(["submit-btn",a.value]),disabled:h.value},n(h.value?l.$t("login.logging_in"):l.$t("login.btn_login")),11,_e)],32),e("div",be,[g(n(l.$t("login.no_account"))+" ",1),e("span",{onClick:o[5]||(o[5]=t=>f.value="register")},n(l.$t("login.to_register")),1)])])):(p(),c("div",fe,[e("h2",he,n(l.$t("login.create_account")),1),e("p",we,n(a.value==="individual"?l.$t("login.join_ind"):l.$t("login.join_ent")),1),e("form",{onSubmit:U(B,["prevent"])},[a.value==="enterprise"?(p(),c("div",$e,[s(v,{modelValue:d.orgName,"onUpdate:modelValue":o[6]||(o[6]=t=>d.orgName=t),placeholder:l.$t("login.placeholder.org_name"),size:"large"},null,8,["modelValue","placeholder"])])):(p(),c("div",Ve,[s(v,{modelValue:d.school,"onUpdate:modelValue":o[7]||(o[7]=t=>d.school=t),placeholder:l.$t("login.placeholder.school"),size:"large"},null,8,["modelValue","placeholder"])])),e("div",ke,[s(v,{modelValue:d.account,"onUpdate:modelValue":o[8]||(o[8]=t=>d.account=t),placeholder:l.$t("login.placeholder.phone_email"),size:"large"},null,8,["modelValue","placeholder"])]),e("div",ye,[s(v,{modelValue:d.password,"onUpdate:modelValue":o[9]||(o[9]=t=>d.password=t),type:"password",placeholder:l.$t("login.placeholder.set_password"),size:"large","show-password":""},null,8,["modelValue","placeholder"])]),e("div",ze,[s(C,{modelValue:d.agree,"onUpdate:modelValue":o[10]||(o[10]=t=>d.agree=t)},{default:i(()=>[g(n(l.$t("login.agree_prefix"))+" ",1),e("span",Ce,n(l.$t("login.agreement")),1)]),_:1},8,["modelValue"])]),e("button",{type:"submit",class:_(["submit-btn",a.value])},n(l.$t("login.btn_register")),3)],32),e("div",Ue,[g(n(l.$t("login.has_account"))+" ",1),e("span",{onClick:o[11]||(o[11]=t=>f.value="login")},n(l.$t("login.to_login")),1)])]))])],4)])])}}},Me=R(Te,[["__scopeId","data-v-f75b8ea1"]]);export{Me as default};
