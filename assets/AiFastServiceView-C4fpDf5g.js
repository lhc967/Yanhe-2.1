import{_ as K,u as N,a as U,c as a,d as s,f as v,t as o,e as g,H,I,Y as D,C as y,D as L,F as P,G as R,w as M,r as b,E as w,a0 as j,i as l,n as S}from"./index-CVi_qNo8.js";const z={class:"ai-page"},G={class:"sidebar d-none d-md-flex flex-column"},O={class:"p-3"},q={class:"history-list flex-grow-1 overflow-auto custom-scrollbar"},J={class:"history-label"},Q={class:"history-item active"},W={class:"history-item"},X={class:"history-label"},Z={class:"history-item"},ss={class:"user-bottom p-3 border-top border-secondary"},ts={class:"d-flex align-items-center gap-2 text-white-50"},es=["src"],is={class:"text-truncate"},os={class:"main-chat d-flex flex-column h-100"},as={class:"chat-header"},ls={class:"d-flex align-items-center gap-3"},ns={class:"dropdown"},rs={class:"btn btn-light border rounded-pill dropdown-toggle d-flex align-items-center gap-2",type:"button","data-bs-toggle":"dropdown"},ds={class:"fw-bold"},cs={class:"dropdown-menu shadow border-0 mt-2 p-1"},us=["onClick"],vs={class:"fw-bold"},bs={class:"small text-muted",style:{"font-size":"11px"}},ps={key:0,class:"bi bi-check-lg"},hs={class:"d-flex align-items-center gap-2"},ms=["title"],fs={key:0,class:"empty-state"},_s={class:"fw-bold mb-4"},gs={class:"shortcut-grid"},ys={class:"text-start"},ws={class:"fw-bold"},ks={class:"text-muted small"},$s={class:"text-start"},xs={class:"fw-bold"},Cs={class:"text-muted small"},Ts={class:"text-start"},Hs={class:"fw-bold"},Is={class:"text-muted small"},Ms={class:"text-start"},Ss={class:"fw-bold"},Vs={class:"text-muted small"},Ys={key:1,class:"message-list"},Bs={class:"avatar"},Fs=["src"],As={key:1,class:"ai-avatar"},Es={class:"bubble-container"},Ks={class:"sender-name"},Ns={class:"bubble"},Us={key:0,class:"typing-cursor"},Ds=["innerHTML"],Ls={key:0,class:"action-bar"},Ps=["onClick"],Rs={class:"btn-action"},js={key:0,class:"message-row ai"},zs={class:"chat-footer"},Gs={class:"input-wrapper"},Os=["placeholder","onKeydown"],qs=["disabled"],Js={class:"footer-tip"},Qs={__name:"AiFastServiceView",setup(Ws){const{t:r}=N(),f=U(),p=b(null),k=b(null),d=b(""),c=b(!1),$=[{id:"pro",name:"YanHe-Pro 4.0"},{id:"fast",name:"YanHe-Fast"},{id:"creative",name:"YanHe-Creative"}],h=b($[0]),n=b([]),_={default:r("ai.mock.default"),trans:r("ai.mock.trans"),polish:r("ai.mock.polish")},x=async()=>{const e=d.value.trim();if(!(!e||c.value)){n.value.push({role:"user",content:e}),d.value="",C(),c.value=!0;try{setTimeout(()=>{c.value=!1;let t=_.default;(e.includes("翻译")||e.includes("Translate"))&&(t=_.trans),(e.includes("润色")||e.includes("Polish"))&&(t=_.polish),V(t)},1500)}catch{c.value=!1,w.error(r("ai.error_msg"))}}},V=async e=>{const t=n.value.push({role:"ai",content:"",typing:!0})-1,i=e.split("");for(let u=0;u<i.length;u++)await new Promise(T=>setTimeout(T,30)),n.value[t].content+=i[u],C();n.value[t].typing=!1},Y=e=>{e.shiftKey||x()},m=e=>{d.value=e,k.value.focus()},B=()=>{n.value=[]},F=()=>{n.value=[],w.success(r("ai.cleared"))},A=e=>{navigator.clipboard.writeText(e),w.success(r("ai.copied"))},C=()=>{j(()=>{p.value&&(p.value.scrollTop=p.value.scrollHeight)})},E=e=>e?e.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"):"";return(e,t)=>(l(),a("div",z,[s("div",G,[s("div",O,[s("button",{class:"btn btn-outline-light w-100 d-flex align-items-center justify-content-start gap-2",onClick:B},[t[6]||(t[6]=s("i",{class:"bi bi-plus-lg"},null,-1)),v(" "+o(e.$t("ai.new_chat")),1)])]),s("div",q,[s("div",J,o(e.$t("ai.history.today")),1),s("div",Q,[t[7]||(t[7]=s("i",{class:"bi bi-chat-left-text"},null,-1)),v(" "+o(e.$t("ai.history.demo1")),1)]),s("div",W,[t[8]||(t[8]=s("i",{class:"bi bi-chat-left-text"},null,-1)),v(" "+o(e.$t("ai.history.demo2")),1)]),s("div",X,o(e.$t("ai.history.yesterday")),1),s("div",Z,[t[9]||(t[9]=s("i",{class:"bi bi-chat-left-text"},null,-1)),v(" "+o(e.$t("ai.history.demo3")),1)])]),s("div",ss,[s("div",ts,[s("img",{src:g(f).userInfo.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=User",class:"rounded-circle",width:"32"},null,8,es),s("span",is,o(g(f).userInfo.name||e.$t("ai.guest")),1)])])]),s("div",os,[s("header",as,[s("div",ls,[s("button",{class:"btn btn-link text-dark p-0 d-md-none",onClick:t[0]||(t[0]=i=>e.$router.go(-1))},[...t[10]||(t[10]=[s("i",{class:"bi bi-arrow-left fs-4"},null,-1)])]),s("div",ns,[s("button",rs,[t[11]||(t[11]=s("i",{class:"bi bi-stars text-warning"},null,-1)),s("span",ds,o(h.value.name),1)]),s("ul",cs,[(l(),a(H,null,I($,i=>s("li",{key:i.id},[s("a",{class:S(["dropdown-item rounded py-2 d-flex align-items-center justify-content-between",{active:h.value.id===i.id}]),href:"#",onClick:M(u=>h.value=i,["prevent"])},[s("div",null,[s("div",vs,o(i.name),1),s("div",bs,o(e.$t(`ai.models.${i.id}_desc`)),1)]),h.value.id===i.id?(l(),a("i",ps)):y("",!0)],10,us)])),64))])])]),s("div",hs,[s("button",{class:"btn btn-light rounded-circle",title:e.$t("ai.clear_chat"),onClick:F},[...t[12]||(t[12]=[s("i",{class:"bi bi-trash3"},null,-1)])],8,ms),t[13]||(t[13]=s("button",{class:"btn btn-light rounded-circle d-md-none"},[s("i",{class:"bi bi-clock-history"})],-1))])]),s("div",{class:"chat-content flex-grow-1 overflow-auto p-3 p-md-5",ref_key:"chatBox",ref:p},[n.value.length===0?(l(),a("div",fs,[t[18]||(t[18]=s("div",{class:"logo-box mb-4"},[s("i",{class:"bi bi-robot fs-1 text-primary"})],-1)),s("h2",_s,o(e.$t("ai.welcome_title")),1),s("div",gs,[s("div",{class:"shortcut-card",onClick:t[1]||(t[1]=i=>m(e.$t("ai.shortcuts.translate_prompt")))},[t[14]||(t[14]=s("div",{class:"icon-box bg-blue"},[s("i",{class:"bi bi-translate"})],-1)),s("div",ys,[s("div",ws,o(e.$t("ai.shortcuts.translate_title")),1),s("div",ks,o(e.$t("ai.shortcuts.translate_desc")),1)])]),s("div",{class:"shortcut-card",onClick:t[2]||(t[2]=i=>m(e.$t("ai.shortcuts.polish_prompt")))},[t[15]||(t[15]=s("div",{class:"icon-box bg-purple"},[s("i",{class:"bi bi-envelope-check"})],-1)),s("div",$s,[s("div",xs,o(e.$t("ai.shortcuts.polish_title")),1),s("div",Cs,o(e.$t("ai.shortcuts.polish_desc")),1)])]),s("div",{class:"shortcut-card",onClick:t[3]||(t[3]=i=>m(e.$t("ai.shortcuts.grammar_prompt")))},[t[16]||(t[16]=s("div",{class:"icon-box bg-green"},[s("i",{class:"bi bi-check-circle"})],-1)),s("div",Ts,[s("div",Hs,o(e.$t("ai.shortcuts.grammar_title")),1),s("div",Is,o(e.$t("ai.shortcuts.grammar_desc")),1)])]),s("div",{class:"shortcut-card",onClick:t[4]||(t[4]=i=>m(e.$t("ai.shortcuts.culture_prompt")))},[t[17]||(t[17]=s("div",{class:"icon-box bg-orange"},[s("i",{class:"bi bi-book"})],-1)),s("div",Ms,[s("div",Ss,o(e.$t("ai.shortcuts.culture_title")),1),s("div",Vs,o(e.$t("ai.shortcuts.culture_desc")),1)])])])])):(l(),a("div",Ys,[(l(!0),a(H,null,I(n.value,(i,u)=>(l(),a("div",{key:u,class:S(["message-row",i.role])},[s("div",Bs,[i.role==="user"?(l(),a("img",{key:0,src:g(f).userInfo.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=User"},null,8,Fs)):(l(),a("div",As,[...t[19]||(t[19]=[s("i",{class:"bi bi-stars"},null,-1)])]))]),s("div",Es,[s("div",Ks,o(i.role==="user"?"You":"YanHe AI"),1),s("div",Ns,[i.typing?(l(),a("span",Us,"█")):(l(),a("div",{key:1,innerHTML:E(i.content)},null,8,Ds))]),i.role==="ai"&&!i.typing?(l(),a("div",Ls,[s("button",{class:"btn-action",onClick:T=>A(i.content)},[t[20]||(t[20]=s("i",{class:"bi bi-clipboard"},null,-1)),v(" "+o(e.$t("ai.copy")),1)],8,Ps),t[22]||(t[22]=s("button",{class:"btn-action"},[s("i",{class:"bi bi-hand-thumbs-up"})],-1)),s("button",Rs,[t[21]||(t[21]=s("i",{class:"bi bi-arrow-clockwise"},null,-1)),v(" "+o(e.$t("ai.retry")),1)])])):y("",!0)])],2))),128)),c.value?(l(),a("div",js,[...t[23]||(t[23]=[D('<div class="avatar" data-v-d07697f7><div class="ai-avatar" data-v-d07697f7><i class="bi bi-stars" data-v-d07697f7></i></div></div><div class="bubble-container" data-v-d07697f7><div class="sender-name" data-v-d07697f7>YanHe AI</div><div class="bubble thinking" data-v-d07697f7><span data-v-d07697f7></span><span data-v-d07697f7></span><span data-v-d07697f7></span></div></div>',2)])])):y("",!0)]))],512),s("footer",zs,[s("div",Gs,[L(s("textarea",{"onUpdate:modelValue":t[5]||(t[5]=i=>d.value=i),rows:"1",placeholder:e.$t("ai.input_placeholder"),onKeydown:R(M(Y,["prevent"]),["enter"]),ref_key:"inputRef",ref:k},null,40,Os),[[P,d.value]]),s("button",{class:"btn-send",disabled:!d.value.trim()||c.value,onClick:x},[...t[24]||(t[24]=[s("i",{class:"bi bi-arrow-up"},null,-1)])],8,qs)]),s("div",Js,o(e.$t("ai.disclaimer")),1)])])]))}},Zs=K(Qs,[["__scopeId","data-v-d07697f7"]]);export{Zs as default};
