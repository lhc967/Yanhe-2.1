import{_ as es,u as ts,a as os,L as ls,o as as,c as n,d as s,w as k,t as l,e as v,C,j as r,k as d,l as x,f as p,n as h,H as _,I as w,T as is,m,r as b,E as H,g as ns,h as rs,i as a,B as ds,p as cs}from"./index-CVi_qNo8.js";const us={class:"profile-page"},vs={class:"navbar fixed-top navbar-custom px-4"},ps={class:"container-fluid"},ms={class:"navbar-nav-scroll"},bs={class:"navbar-nav flex-row gap-4"},fs={class:"nav-item"},hs={class:"nav-item"},gs={class:"nav-item"},_s={class:"nav-item"},ws={class:"d-flex align-items-center gap-3 ms-auto"},ys={key:0,class:"vip-status-badge"},$s={class:"nav-avatar-container"},ks=["src"],Cs={class:"px-3 py-2 border-bottom"},Vs={class:"fw-bold text-dark"},xs={class:"profile-header-wrapper"},Is={class:"btn-change-cover"},zs={class:"container content-container"},Ms={class:"row"},Ps={class:"col-lg-3 col-md-4"},js={class:"profile-card shadow-sm"},Ls={class:"avatar-section"},Ss=["src"],Bs={key:0,class:"vip-icon"},Ds={class:"info-section mt-3"},Es={class:"user-name"},Ts=["title"],As={class:"user-bio text-muted small mb-3"},Fs={class:"d-grid gap-2"},Ns={class:"btn btn-outline-secondary rounded-pill fw-bold"},Us={class:"stats-row border-top mt-4 pt-3"},Rs={class:"stat-col"},Hs={class:"label"},Js={class:"stat-col border-start border-end"},Os={class:"label"},qs={class:"stat-col"},Gs={class:"label"},Ws={class:"sidebar-widget mt-4 shadow-sm bg-white rounded-4 p-4"},Ys={class:"d-flex justify-content-between align-items-center mb-3"},Ks={class:"fw-bold m-0"},Qs={class:"badges-grid"},Xs={class:"col-lg-9 col-md-8 ps-lg-4 mt-4 mt-md-0"},Zs={class:"content-tabs mb-4"},se={key:"overview"},ee={class:"section-card mb-4"},te={class:"d-flex justify-content-between align-items-center mb-3"},oe={class:"fw-bold m-0"},le={class:"small text-muted"},ae={class:"heatmap-wrapper"},ie={class:"heatmap-grid"},ne={class:"row g-3"},re={class:"col-md-6"},de={class:"section-box h-100"},ce={class:"fw-bold mb-3"},ue={class:"d-flex gap-2"},ve={class:"col-md-6"},pe={class:"section-box h-100 bg-primary text-white position-relative overflow-hidden"},me={class:"position-relative z-1"},be={class:"fw-bold"},fe={class:"small opacity-75 mb-3"},he={key:"learning"},ge=["src"],_e={class:"flex-grow-1"},we={class:"d-flex justify-content-between mb-1"},ye={class:"fw-bold mb-0"},$e={class:"text-primary fw-bold small"},ke={class:"progress",style:{height:"6px"}},Ce={class:"mt-2 small text-muted"},Ve={class:"btn btn-sm btn-primary rounded-pill ms-3 px-3"},xe={key:"posts"},Ie={class:"row g-3"},ze=["onClick"],Me=["src"],Pe={class:"card-body p-3"},je={class:"fw-bold text-truncate mb-1"},Le={class:"d-flex justify-content-between text-muted",style:{"font-size":"11px"}},Se={key:"collections"},Be={class:"row g-3"},De={class:"card border-0 shadow-sm overflow-hidden h-100 collection-card"},Ee={class:"d-flex",style:{height:"120px"}},Te=["src"],Ae={class:"card-body p-3"},Fe={class:"fw-bold text-truncate"},Ne={class:"d-flex justify-content-between text-muted mt-2",style:{"font-size":"11px"}},Ue={key:0,class:"bi bi-lock-fill"},Re={class:"text-center mb-3"},He={class:"mt-2"},Je={key:0},Oe=["src"],qe={class:"text-muted small"},j="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix",Ge={__name:"ProfileView",setup(We){const{t:L,locale:y}=ts(),I=rs(),i=os(),S=b("https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=1600&q=80"),c=b("overview"),$=b(!1),z=b(!1),V=b(null),u=ns({name:"",bio:"",avatar:""}),J=cs(()=>y.value),O=()=>{y.value=y.value==="zh"?"en":"zh"},B=b([]),D=b([]),E=b([]),T=b([]),A=()=>{const e=y.value==="en";B.value=[{name:e?"Early Contributor":"æ—©æœŸè´¡çŒ®è€…",icon:"bi-star-fill",bg:"#fff3cd",color:"#ffc107",unlocked:!0},{name:e?"Perfect Attendance":"å…¨å‹¤è¾¾äºº",icon:"bi-lightning-fill",bg:"#e2e3e5",color:"#6c757d",unlocked:!0},{name:e?"Master Translator":"é«˜é˜¶è¯‘å‘˜",icon:"bi-translate",bg:"#cff4fc",color:"#0dcaf0",unlocked:!1},{name:e?"Culture Ambassador":"æ–‡åŒ–å¤§ä½¿",icon:"bi-flower1",bg:"#f8d7da",color:"#dc3545",unlocked:!1}],D.value=[{title:e?"Business Chinese: Negotiation":"å•†åŠ¡æ±‰è¯­ï¼šé«˜çº§è°ˆåˆ¤æŠ€å·§",progress:75,next:e?"Pricing Strategy":"ä»·æ ¼åšå¼ˆç­–ç•¥",img:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300"},{title:e?"Daily Vocab Plan":"æ¯æ—¥ç”Ÿè¯å¤ä¹ è®¡åˆ’",progress:30,next:e?"12 Words Due":"12ä¸ªå¾…å¤ä¹ å•è¯",img:"https://images.unsplash.com/photo-1596797038530-2c107229654b?w=300"}],E.value=[{title:e?"Shanghai Yuyuan Garden ðŸ®":"ä¸Šæµ·è±«å›­ç¯ä¼šæ‰“å¡ ðŸ®",views:"12.5k",cover:"https://images.unsplash.com/photo-1548013146-72479768bada?w=600"},{title:e?"Hotpot Challenge ðŸŒ¶ï¸":"æŒ‘æˆ˜æœ€è¾£ç«é”… ðŸŒ¶ï¸",views:"8.2k",cover:"https://images.unsplash.com/photo-1555126634-323283e090fa?w=600"},{title:e?"Afternoon at Library":"åŒ—å¤–å›¾ä¹¦é¦†çš„åˆåŽ",views:"3.1k",cover:"https://images.unsplash.com/photo-1541339907198-e08756dedf3f?w=600"}],T.value=[{title:e?"Traditional Arch":"ä¸­å›½ä¼ ç»Ÿå»ºç­‘ç¾Žå­¦",count:12,cover:"https://images.unsplash.com/photo-1512641406448-6574e777bec6?w=600",private:!1},{title:e?"Business Vocab":"å•†åŠ¡è‹±è¯­é«˜é¢‘è¯",count:85,cover:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=600",private:!0}]};ls(y,A),as(A);const q=e=>{e==="logout"?(i.logout(),I.push("/login")):e==="edit"?M():e==="badge"?I.push("/user/badges"):e==="vip"?I.push("/unlock-pro"):e==="lang"&&O()},G=e=>{const t=e.target.files[0];if(t){const f=new FileReader;f.onload=P=>{S.value=P.target.result,H.success(L("profile.msg_banner_success"))},f.readAsDataURL(t)}},M=()=>{u.name=i.userInfo.name||"",u.bio=i.userInfo.bio||"",u.avatar=i.userInfo.avatar||j,$.value=!0},W=()=>{const e=["Felix","Max","Luna","Jack"];u.avatar=`https://api.dicebear.com/7.x/avataaars/svg?seed=${e[Math.floor(Math.random()*e.length)]}`},Y=()=>{i.userInfo.name=u.name,i.userInfo.bio=u.bio,i.userInfo.avatar=u.avatar,localStorage.setItem("yanhe_user_info",JSON.stringify(i.userInfo)),$.value=!1,H.success(L("profile.msg_save_success"))},K=e=>{V.value=e,z.value=!0},Q=e=>{const t=Math.random();return t>.9?"l4":t>.6?"l2":"l0"};return(e,t)=>{const f=m("el-dropdown-item"),P=m("el-dropdown-menu"),X=m("el-dropdown"),Z=m("el-tooltip"),F=m("el-avatar"),N=m("el-input"),U=m("el-form-item"),ss=m("el-form"),R=m("el-dialog");return a(),n("div",us,[s("nav",vs,[s("div",ps,[s("a",{class:"navbar-brand",onClick:t[0]||(t[0]=k(o=>e.$router.push("/portal"),["prevent"])),href:"#"},l(e.$t("brand")),1),s("div",ms,[s("ul",bs,[s("li",fs,[s("a",{class:"nav-link",onClick:t[1]||(t[1]=k(o=>e.$router.push("/education"),["prevent"])),href:"#"},l(e.$t("nav.education")),1)]),s("li",hs,[s("a",{class:"nav-link",onClick:t[2]||(t[2]=k(o=>e.$router.push("/service"),["prevent"])),href:"#"},l(e.$t("nav.service")),1)]),s("li",gs,[s("a",{class:"nav-link",onClick:t[3]||(t[3]=k(o=>e.$router.push("/story"),["prevent"])),href:"#"},l(e.$t("nav.story")),1)]),s("li",_s,[s("a",{class:"nav-link",onClick:t[4]||(t[4]=k(o=>e.$router.push("/culture"),["prevent"])),href:"#"},l(e.$t("nav.map")),1)])])]),s("div",ws,[v(i).isVip?(a(),n("div",ys,"PRO")):C("",!0),r(X,{trigger:"click",onCommand:q},{dropdown:d(()=>[r(P,{class:"custom-dropdown"},{default:d(()=>[s("div",Cs,[s("div",Vs,l(v(i).userInfo.name||e.$t("profile.unnamed")),1),t[17]||(t[17]=s("div",{class:"small text-muted"},"ID: 8839201",-1))]),r(f,{command:"edit",class:"mt-1"},{default:d(()=>[t[18]||(t[18]=s("i",{class:"bi bi-gear me-2"},null,-1)),p(" "+l(e.$t("profile.menu.edit")),1)]),_:1}),r(f,{command:"badge"},{default:d(()=>[t[19]||(t[19]=s("i",{class:"bi bi-trophy me-2"},null,-1)),p(" "+l(e.$t("profile.menu.badge")),1)]),_:1}),r(f,{command:"vip",class:"text-warning"},{default:d(()=>[t[20]||(t[20]=s("i",{class:"bi bi-gem me-2"},null,-1)),p(" "+l(e.$t("profile.menu.vip")),1)]),_:1}),r(f,{command:"lang"},{default:d(()=>[t[21]||(t[21]=s("i",{class:"bi bi-translate me-2"},null,-1)),p(" "+l(J.value==="zh"?"English":"ä¸­æ–‡"),1)]),_:1}),r(f,{divided:"",command:"logout",class:"text-danger"},{default:d(()=>[t[22]||(t[22]=s("i",{class:"bi bi-box-arrow-right me-2"},null,-1)),p(" "+l(e.$t("user.logout")),1)]),_:1})]),_:1})]),default:d(()=>[s("div",$s,[s("img",{src:v(i).userInfo.avatar||j,class:"nav-avatar"},null,8,ks),t[16]||(t[16]=s("div",{class:"status-dot"},null,-1))])]),_:1})])])]),s("div",xs,[s("div",{class:"banner-img",style:x({backgroundImage:`url(${S.value})`})},[t[24]||(t[24]=s("div",{class:"banner-overlay"},null,-1)),s("label",Is,[s("input",{type:"file",accept:"image/*",class:"d-none",onChange:G},null,32),t[23]||(t[23]=s("i",{class:"bi bi-camera"},null,-1)),p(" "+l(e.$t("profile.header.edit_cover")),1)])],4),s("div",zs,[s("div",Ms,[s("div",Ps,[s("div",js,[s("div",Ls,[s("div",{class:"avatar-wrapper",onClick:M},[s("img",{src:v(i).userInfo.avatar||j,class:h(["big-avatar",{"vip-border":v(i).isVip}])},null,10,Ss),t[26]||(t[26]=s("div",{class:"avatar-overlay"},[s("i",{class:"bi bi-pencil-fill"})],-1)),v(i).isVip?(a(),n("div",Bs,[...t[25]||(t[25]=[s("i",{class:"bi bi-gem-fill"},null,-1)])])):C("",!0)])]),s("div",Ds,[s("h4",Es,[p(l(v(i).userInfo.name||"Felix")+" ",1),s("i",{class:"bi bi-patch-check-fill text-primary ms-1 fs-6",title:e.$t("profile.header.verified")},null,8,Ts)]),s("div",As,l(v(i).userInfo.bio||e.$t("profile.header.no_bio")),1),t[27]||(t[27]=s("div",{class:"tags-row mb-4"},[s("span",{class:"skill-pill"},"ðŸ‡¬ðŸ‡§ IELTS 8.0"),s("span",{class:"skill-pill"},"ðŸ’» Python")],-1)),s("div",Fs,[s("button",{class:"btn btn-primary rounded-pill fw-bold",onClick:M},l(e.$t("profile.header.btn_edit")),1),s("button",Ns,l(e.$t("profile.header.btn_share")),1)])]),s("div",Us,[s("div",Rs,[t[28]||(t[28]=s("div",{class:"num"},"128",-1)),s("div",Hs,l(e.$t("profile.stats.following")),1)]),s("div",Js,[t[29]||(t[29]=s("div",{class:"num"},"3.5k",-1)),s("div",Os,l(e.$t("profile.stats.followers")),1)]),s("div",qs,[t[30]||(t[30]=s("div",{class:"num"},"58",-1)),s("div",Gs,l(e.$t("profile.stats.likes")),1)])])]),s("div",Ws,[s("div",Ys,[s("h6",Ks,[t[31]||(t[31]=s("i",{class:"bi bi-trophy-fill text-warning"},null,-1)),p(" "+l(e.$t("profile.badges.title")),1)]),s("span",{class:"small text-primary cursor-pointer",onClick:t[5]||(t[5]=o=>e.$router.push("/user/badges"))},l(e.$t("profile.badges.all"))+" >",1)]),s("div",Qs,[(a(!0),n(_,null,w(B.value,(o,g)=>(a(),ds(Z,{key:g,content:o.name,placement:"top"},{default:d(()=>[s("div",{class:h(["badge-item",{locked:!o.unlocked}])},[s("div",{class:"badge-icon",style:x({backgroundColor:o.bg})},[s("i",{class:h(o.icon),style:x({color:o.color})},null,6)],4)],2)]),_:2},1032,["content"]))),128))])])]),s("div",Xs,[s("div",Zs,[s("div",{class:h(["tab-btn",{active:c.value==="overview"}]),onClick:t[6]||(t[6]=o=>c.value="overview")},l(e.$t("profile.tabs.overview")),3),s("div",{class:h(["tab-btn",{active:c.value==="learning"}]),onClick:t[7]||(t[7]=o=>c.value="learning")},l(e.$t("profile.tabs.learning")),3),s("div",{class:h(["tab-btn",{active:c.value==="posts"}]),onClick:t[8]||(t[8]=o=>c.value="posts")},l(e.$t("profile.tabs.posts")),3),s("div",{class:h(["tab-btn",{active:c.value==="collections"}]),onClick:t[9]||(t[9]=o=>c.value="collections")},l(e.$t("profile.tabs.collections")),3)]),r(is,{name:"fade",mode:"out-in"},{default:d(()=>[c.value==="overview"?(a(),n("div",se,[s("div",ee,[s("div",te,[s("h5",oe,l(e.$t("profile.overview.heat_title")),1),s("span",le,l(e.$t("profile.overview.heat_sub",{hours:324})),1)]),s("div",ae,[s("div",ie,[(a(),n(_,null,w(364,o=>s("div",{key:o,class:h(["heat-dot",Q(o)])},null,2)),64))]),t[32]||(t[32]=s("div",{class:"heatmap-legend mt-2"},[s("span",null,"Less"),s("div",{class:"heat-box l0"}),s("div",{class:"heat-box l1"}),s("div",{class:"heat-box l2"}),s("div",{class:"heat-box l3"}),s("div",{class:"heat-box l4"}),s("span",null,"More")],-1))])]),s("div",ne,[s("div",re,[s("div",de,[s("h6",ce,l(e.$t("profile.overview.visitors")),1),s("div",ue,[(a(),n(_,null,w(5,o=>r(F,{key:o,size:40,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=visitor${o}`,class:"border"},null,8,["src"])),64))])])]),s("div",ve,[s("div",pe,[s("div",me,[s("h6",be,l(e.$t("profile.overview.vip_title")),1),s("p",fe,l(v(i).isVip?e.$t("profile.overview.vip_date"):e.$t("profile.overview.vip_desc")),1),s("button",{class:"btn btn-sm btn-light text-primary fw-bold rounded-pill",onClick:t[10]||(t[10]=o=>e.$router.push("/unlock-pro"))},l(v(i).isVip?e.$t("profile.overview.btn_renew"):e.$t("profile.overview.btn_unlock")),1)]),t[33]||(t[33]=s("i",{class:"bi bi-gem position-absolute top-50 end-0 translate-middle-y me-n3 text-white opacity-25",style:{"font-size":"5rem"}},null,-1))])])])])):c.value==="learning"?(a(),n("div",he,[(a(!0),n(_,null,w(D.value,(o,g)=>(a(),n("div",{key:g,class:"course-card d-flex align-items-center p-3 bg-white rounded-3 shadow-sm mb-3 border"},[s("img",{src:o.img,class:"rounded me-3",style:{width:"120px",height:"80px","object-fit":"cover"}},null,8,ge),s("div",_e,[s("div",we,[s("h6",ye,l(o.title),1),s("span",$e,l(o.progress)+"%",1)]),s("div",ke,[s("div",{class:"progress-bar",style:x({width:o.progress+"%"})},null,4)]),s("div",Ce,l(e.$t("profile.learning.next"))+": "+l(o.next),1)]),s("button",Ve,l(e.$t("profile.learning.continue")),1)]))),128))])):c.value==="posts"?(a(),n("div",xe,[s("div",Ie,[(a(!0),n(_,null,w(E.value,(o,g)=>(a(),n("div",{key:g,class:"col-md-4"},[s("div",{class:"card border-0 shadow-sm h-100 overflow-hidden post-card",onClick:Ye=>K(o)},[s("img",{src:o.cover,class:"card-img-top",style:{height:"160px","object-fit":"cover"}},null,8,Me),s("div",Pe,[s("div",je,l(o.title),1),s("div",Le,[s("span",null,[t[34]||(t[34]=s("i",{class:"bi bi-eye"},null,-1)),p(" "+l(o.views),1)]),s("span",null,l(e.$t("profile.posts.time_ago")),1)])])],8,ze)]))),128))])])):c.value==="collections"?(a(),n("div",Se,[s("div",Be,[(a(!0),n(_,null,w(T.value,(o,g)=>(a(),n("div",{key:g,class:"col-md-4"},[s("div",De,[s("div",Ee,[s("img",{src:o.cover,class:"w-75 h-100",style:{"object-fit":"cover"}},null,8,Te),t[35]||(t[35]=s("div",{class:"w-25 bg-light d-flex flex-column border-start"},[s("div",{class:"h-50 border-bottom"}),s("div",{class:"h-50"})],-1))]),s("div",Ae,[s("div",Fe,l(o.title),1),s("div",Ne,[s("span",null,l(o.count)+" "+l(e.$t("profile.collections.items")),1),o.private?(a(),n("i",Ue)):C("",!0)])])])]))),128))])])):C("",!0)]),_:1})])])])]),r(R,{modelValue:$.value,"onUpdate:modelValue":t[14]||(t[14]=o=>$.value=o),title:e.$t("profile.modal.title"),width:"450px","align-center":""},{footer:d(()=>[s("button",{class:"btn btn-secondary me-2 rounded-pill",onClick:t[13]||(t[13]=o=>$.value=!1)},l(e.$t("profile.modal.cancel")),1),s("button",{class:"btn btn-primary rounded-pill px-4",onClick:Y},l(e.$t("profile.modal.save")),1)]),default:d(()=>[s("div",Re,[r(F,{size:80,src:u.avatar,class:"border"},null,8,["src"]),s("div",He,[s("button",{class:"btn btn-sm btn-light rounded-pill",onClick:W},"ðŸŽ² "+l(e.$t("profile.modal.random_avatar")),1)])]),r(ss,{"label-position":"top"},{default:d(()=>[r(U,{label:e.$t("profile.modal.label_name")},{default:d(()=>[r(N,{modelValue:u.name,"onUpdate:modelValue":t[11]||(t[11]=o=>u.name=o)},null,8,["modelValue"])]),_:1},8,["label"]),r(U,{label:e.$t("profile.modal.label_bio")},{default:d(()=>[r(N,{modelValue:u.bio,"onUpdate:modelValue":t[12]||(t[12]=o=>u.bio=o),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["modelValue","title"]),r(R,{modelValue:z.value,"onUpdate:modelValue":t[15]||(t[15]=o=>z.value=o),width:"500px","align-center":""},{default:d(()=>[V.value?(a(),n("div",Je,[s("img",{src:V.value.cover,class:"w-100 rounded mb-3"},null,8,Oe),s("h5",null,l(V.value.title),1),s("p",qe,l(e.$t("profile.posts.demo_content")),1)])):C("",!0)]),_:1},8,["modelValue"])])}}},Qe=es(Ge,[["__scopeId","data-v-c8c32d71"]]);export{Qe as default};
