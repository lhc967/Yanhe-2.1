import{_ as L,u as S,a as E,L as I,o as M,c as o,d as s,w as f,t as a,e as q,D as V,F as B,G as N,H as u,I as h,C as p,f as w,j as R,k as j,M as A,q as D,r as v,p as F,h as G,i as n,n as U,E as J}from"./index-CVi_qNo8.js";const K={class:"search-result-page"},z={class:"navbar navbar-expand-lg fixed-top custom-navbar"},H={class:"container-fluid px-4"},O={class:"d-flex ms-auto align-items-center gap-3"},Z=["src"],P={class:"search-header"},Q={class:"container"},W={class:"search-input-group"},X=["placeholder"],Y={class:"filter-tabs"},ss=["onClick"],es={class:"container py-4 result-container"},ts={key:0,class:"text-muted small mb-3"},as={key:1,class:"text-center py-5 text-muted"},ls=["onClick"],os={key:0,class:"d-flex justify-content-between align-items-start"},ns={class:"tag tag-task"},rs={class:"fw-bold d-inline-block mb-1"},cs={class:"text-muted small mb-2 mt-1"},is={class:"d-flex align-items-center gap-2"},ds=["src"],us={class:"small text-secondary"},hs={class:"text-end",style:{"min-width":"100px"}},ps={class:"fw-bold text-primary m-0"},vs={class:"text-muted"},_s={key:1,class:"d-flex align-items-center gap-3"},gs=["src"],ms={class:"flex-grow-1"},bs={class:"tag tag-user"},ys={class:"fw-bold d-inline-block mt-1 mb-1"},ks={class:"text-muted small mb-0"},fs={class:"mt-2"},ws={class:"btn btn-outline-primary btn-sm rounded-pill px-4"},xs={key:2,class:"d-flex gap-3"},Cs=["src"],$s={class:"tag tag-course"},Ts={class:"fw-bold d-inline-block mt-1"},Ls={class:"text-muted small mb-0 mt-1"},Ss={class:"mt-2 small text-warning"},Es={__name:"SearchResultView",setup(Is){const{t:_,locale:g}=S(),m=G(),b=D(),x=E(),r=v(""),i=v("all"),C=[{value:"all"},{value:"task"},{value:"user"},{value:"course"}],y=v([]),k=()=>{const e=g.value==="en";y.value=[{id:101,type:"task",title:e?"Legal Contract Translation":"法律合同条款英译中",desc:e?"Translate 5k words service agreement.":"翻译一份5000字服务协议，要求法律背景。",company:e?"AllBright Law":"锦天城律师事务所",price:500,unit:e?"k words":"千字",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Law"},{id:102,type:"task",title:e?"Expo Escort Interpretation":"商务会议陪同翻译",desc:e?"CIIE escort needed, fluent oral English.":"上海进博会展台陪同，需口语流利。",company:e?"Global Trade Co.":"某外贸公司",price:800,unit:e?"day":"天",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Trade"},{id:201,type:"user",name:e?"Jack Zhang":"张杰",tags:e?["CATTI L2","BSU English"]:["CATTI二级笔译","北体大英语"],skills:e?["Legal","Finance"]:["法律翻译","金融"],avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Jack"},{id:202,type:"user",name:"Sherry Li",tags:e?["TEM-8","Fudan Master"]:["专八优秀","复旦研究生"],skills:e?["Literature","Subtitling"]:["文学翻译","字幕组"],avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Snow"},{id:301,type:"course",title:e?"Business Chinese: Adv. Translation":"商务汉语：高级翻译技巧",desc:e?"Master core rules of business docs.":"掌握商业文件翻译核心准则。",rating:4.9,image:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=200"},{id:302,type:"course",title:e?"Legal English Guide":"法律英语入门指南",desc:e?"Common terms in contract translation.":"合同翻译中的常用术语解析。",rating:4.8,image:"https://images.unsplash.com/photo-1589829085413-56de8ae18c73?w=200"}]};I(g,()=>{k()});const d=F(()=>{const e=r.value.trim().toLowerCase();if(!e)return[];let l=y.value.filter(t=>JSON.stringify(t).toLowerCase().includes(e));return i.value!=="all"&&(l=l.filter(t=>t.type===i.value)),l}),$=()=>{console.log("Searching for:",r.value)},T=e=>{e.type==="task"?m.push({path:"/checkout",query:{type:"task"}}):e.type==="course"?m.push({path:"/checkout",query:{type:"course"}}):J.success(_("search.msg_contact",{name:e.name}))};return M(()=>{k(),b.query.q?r.value=b.query.q:r.value=_("search.default_keyword")}),(e,l)=>(n(),o("div",K,[s("nav",z,[s("div",H,[s("a",{class:"navbar-brand",onClick:l[0]||(l[0]=f(t=>e.$router.push("/portal"),["prevent"])),href:"#"},a(e.$t("brand")),1),s("div",O,[s("a",{class:"nav-link text-muted",onClick:l[1]||(l[1]=f(t=>e.$router.push("/portal"),["prevent"])),href:"#"},a(e.$t("search.nav_back")),1),s("img",{src:q(x).userInfo.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=User",class:"rounded-circle user-avatar"},null,8,Z)])])]),s("div",P,[s("div",Q,[s("div",W,[l[3]||(l[3]=s("i",{class:"bi bi-search search-icon"},null,-1)),V(s("input",{type:"text",class:"search-input","onUpdate:modelValue":l[2]||(l[2]=t=>r.value=t),onKeyup:N($,["enter"]),placeholder:e.$t("search.placeholder")},null,40,X),[[B,r.value]])]),s("div",Y,[(n(),o(u,null,h(C,t=>s("div",{key:t.value,class:U(["filter-tab",{active:i.value===t.value}]),onClick:c=>i.value=t.value},a(e.$t(`search.tabs.${t.value}`)),11,ss)),64))])])]),s("div",es,[r.value?(n(),o("p",ts,a(e.$t("search.result_stat",{count:d.value.length,keyword:r.value})),1)):p("",!0),d.value.length===0?(n(),o("div",as,[l[4]||(l[4]=s("i",{class:"bi bi-inbox fs-1 d-block mb-3 opacity-50"},null,-1)),w(" "+a(e.$t("search.empty.title")),1),l[5]||(l[5]=s("br",null,null,-1)),s("small",null,a(e.$t("search.empty.tip")),1)])):p("",!0),R(A,{name:"list",tag:"div"},{default:j(()=>[(n(!0),o(u,null,h(d.value,t=>(n(),o("div",{key:t.id,class:"result-card",onClick:c=>T(t)},[t.type==="task"?(n(),o("div",os,[s("div",null,[s("span",ns,a(e.$t("search.tags.task")),1),s("h5",rs,a(t.title),1),s("p",cs,a(t.desc),1),s("div",is,[s("img",{src:t.avatar,class:"rounded-circle",width:"20"},null,8,ds),s("span",us,a(t.company),1)])]),s("div",hs,[s("h5",ps,"¥ "+a(t.price),1),s("small",vs,"/ "+a(t.unit),1)])])):t.type==="user"?(n(),o("div",_s,[s("img",{src:t.avatar,class:"rounded-circle",width:"60"},null,8,gs),s("div",ms,[s("span",bs,a(e.$t("search.tags.user")),1),s("h5",ys,a(t.name),1),s("p",ks,a(t.tags.join(" | ")),1),s("div",fs,[(n(!0),o(u,null,h(t.skills,c=>(n(),o("span",{key:c,class:"badge bg-light text-dark border fw-normal me-1"},a(c),1))),128))])]),s("button",ws,a(e.$t("search.btn_contact")),1)])):t.type==="course"?(n(),o("div",xs,[s("img",{src:t.image,style:{width:"120px",height:"80px","object-fit":"cover","border-radius":"8px"}},null,8,Cs),s("div",null,[s("span",$s,a(e.$t("search.tags.course")),1),s("h6",Ts,a(t.title),1),s("p",Ls,a(t.desc),1),s("div",Ss,[l[6]||(l[6]=s("i",{class:"bi bi-star-fill"},null,-1)),w(" "+a(t.rating)+" "+a(e.$t("search.score")),1)])])])):p("",!0)],8,ls))),128))]),_:1})])]))}},qs=L(Es,[["__scopeId","data-v-3ca3bafc"]]);export{qs as default};
