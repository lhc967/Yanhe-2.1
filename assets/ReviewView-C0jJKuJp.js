import{_ as K,u as X,L as Y,o as Z,c as l,d as e,j as n,k as r,t as s,l as V,C as v,T as j,n as M,w as A,f as x,B as ee,H as te,I as se,m as ae,p as q,r as d,h as ne,i as o,e as f,N as oe,O as le,P as ie,Q as F,R as ce,S,U as re,E as P}from"./index-CVi_qNo8.js";const de={class:"review-page"},ue={class:"review-header"},ve={class:"d-flex align-items-center gap-3"},he={class:"fw-bold text-muted"},fe={key:0,class:"progress-container"},_e={class:"progress-custom"},me={class:"progress-text"},pe={class:"d-flex align-items-center gap-2 text-warning fw-bold"},ge={key:0},be={key:1},we={class:"review-stage"},ke={key:0,class:"container menu-container"},xe={class:"text-center fw-bold mb-5 text-dark"},ye={class:"row g-4 justify-content-center"},$e={class:"col-md-4"},Ce={class:"icon-box"},ze={class:"badge-tag"},qe={class:"col-md-4"},Te={class:"icon-box"},Be={class:"badge-tag"},Me={class:"col-md-4"},Ee={class:"icon-box"},Ie={class:"badge-tag"},Ne={key:0,class:"w-100 h-100 d-flex flex-column align-items-center justify-content-center"},Re={class:"card-face card-front"},De={class:"small text-muted text-uppercase mb-3 fw-bold tracking-wide"},Ve={class:"word-lg"},je={class:"hint-text"},Ae={class:"card-face card-back"},Fe={class:"phonetic"},Se={class:"meaning"},Pe={class:"example-box"},Le={class:"example-en"},Qe={class:"example-cn"},We={class:"kb-hint mt-4 d-none d-md-flex"},He={class:"key-cap"},Oe={key:1,class:"w-100 h-100 d-flex flex-column align-items-center justify-content-center text-center"},Ue={class:"phonics-card"},Ge={class:"word-display mb-2"},Je={class:"phonetic-display mb-4"},Ke={key:0,class:"wave"},Xe={key:1,class:"wave"},Ye={key:1,class:"stop-rect"},Ze={class:"mt-4 text-muted status-text"},et={key:0,class:"score-result"},tt={class:"score-circle"},st={class:"score-num"},at={class:"score-label"},nt={class:"score-feedback"},ot={key:2,class:"w-100 h-100 d-flex flex-column align-items-center justify-content-center"},lt={class:"quiz-container"},it={class:"question-card"},ct={class:"mb-4"},rt={class:"options-grid"},dt=["onClick","disabled"],ut={key:3,class:"success-overlay"},vt={class:"success-icon"},ht={class:"fw-bold mb-2"},ft={class:"text-muted mb-5"},_t={key:0,class:"control-bar"},mt={key:1,class:"grading-actions"},pt={__name:"ReviewView",setup(gt){const{t:_,locale:E}=X(),L=ne(),i=d("menu"),p=d(0),y=d(!1),$=d([]),I=()=>{const t=E.value==="en";$.value=[{front:"Negotiation",phonetic:"/nɪˌɡoʊʃiˈeɪʃn/",meaning:t?"Discussion aimed at reaching an agreement":"谈判；协商",exEn:"The negotiation went very smoothly.",exCn:t?"Discussions were productive.":"谈判进行得非常顺利。",options:t?[{text:"Budget",correct:!1},{text:"Negotiation",correct:!0},{text:"Contract",correct:!1},{text:"Meeting",correct:!1}]:[{text:"预算",correct:!1},{text:"谈判",correct:!0},{text:"合同",correct:!1},{text:"会议",correct:!1}]},{front:"Budget",phonetic:"/ˈbʌdʒɪt/",meaning:t?"An estimate of income and expenditure":"预算",exEn:"We need to cut the budget.",exCn:t?"We must reduce spending.":"我们需要削减预算。",options:t?[{text:"Budget",correct:!0},{text:"Finance",correct:!1},{text:"Deficit",correct:!1},{text:"Invest",correct:!1}]:[{text:"预算",correct:!0},{text:"金融",correct:!1},{text:"赤字",correct:!1},{text:"投资",correct:!1}]},{front:"Contract",phonetic:"/ˈkɑːntrækt/",meaning:t?"A written or spoken agreement":"合同；契约",exEn:"Please sign the contract here.",exCn:t?"Sign the agreement.":"请在这里签署合同。",options:t?[{text:"Contact",correct:!1},{text:"Contrast",correct:!1},{text:"Contract",correct:!0},{text:"Control",correct:!1}]:[{text:"联系",correct:!1},{text:"对比",correct:!1},{text:"合同",correct:!0},{text:"控制",correct:!1}]}]};Y(E,I),Z(I);const C=q(()=>$.value.length),u=q(()=>$.value[p.value]||$.value[0]),Q=q(()=>p.value/C.value*100),W=q(()=>i.value==="menu"?_("review.header.title_menu"):i.value==="flashcard"?_("review.header.title_flash"):i.value==="phonics"?_("review.header.title_phonics"):i.value==="quiz"?_("review.header.title_quiz"):""),T=t=>{i.value=t,p.value=0,y.value=!1,b.value=!1,w.value=0,z.value=0,B.value=100},H=()=>{i.value!=="menu"?i.value="menu":L.push("/education")},O=()=>{i.value="menu",y.value=!1},g=()=>{p.value<C.value-1?i.value==="flashcard"?(b.value=!1,setTimeout(()=>p.value++,300)):(p.value++,w.value=0,k.value=!1,B.value=100):y.value=!0},b=d(!1),N=()=>{b.value=!b.value},R=()=>{P.info(_("loading.audio"))},m=d(!1),w=d(0),D=d(""),U=()=>{if(m.value){m.value=!1;const t=Math.floor(Math.random()*18+80);w.value=t,D.value=t>90?_("review.phonics.fb_perfect"):_("review.phonics.fb_good")}else m.value=!0,w.value=0},z=d(0),k=d(!1),B=d(100),G=(t,a)=>{k.value||(k.value=!0,t.selected=!0,t.correct?(z.value++,setTimeout(g,1e3)):(z.value=0,P.error(_("review.quiz.msg_wrong",{ans:u.value.meaning})),setTimeout(g,2e3)))};return(t,a)=>{const h=ae("el-icon");return o(),l("div",de,[e("div",ue,[e("div",ve,[e("div",{class:"close-btn",onClick:H},[n(h,null,{default:r(()=>[n(f(oe))]),_:1})]),e("div",he,s(W.value),1)]),i.value!=="menu"?(o(),l("div",fe,[e("div",_e,[e("div",{class:"progress-bar-custom",style:V({width:Q.value+"%"})},null,4)]),e("div",me,s(p.value+1)+" / "+s(C.value),1)])):v("",!0),e("div",pe,[n(h,null,{default:r(()=>[n(f(le))]),_:1}),i.value==="quiz"?(o(),l("span",ge,"Combo: "+s(z.value),1)):(o(),l("span",be,s(t.$t("review.header.streak",{day:5})),1))])]),e("div",we,[n(j,{name:"fade-up"},{default:r(()=>[i.value==="menu"?(o(),l("div",ke,[e("h2",xe,s(t.$t("review.menu.title")),1),e("div",ye,[e("div",$e,[e("div",{class:"mode-card card-flash",onClick:a[0]||(a[0]=c=>T("flashcard"))},[e("div",Ce,[n(h,null,{default:r(()=>[n(f(ie))]),_:1})]),e("h3",null,s(t.$t("review.menu.flash.title")),1),e("p",null,s(t.$t("review.menu.flash.desc")),1),e("div",ze,s(t.$t("review.menu.flash.badge",{count:12})),1)])]),e("div",qe,[e("div",{class:"mode-card card-phonics",onClick:a[1]||(a[1]=c=>T("phonics"))},[e("div",Te,[n(h,null,{default:r(()=>[n(f(F))]),_:1})]),e("h3",null,s(t.$t("review.menu.phonics.title")),1),e("p",null,s(t.$t("review.menu.phonics.desc")),1),e("div",Be,s(t.$t("review.menu.phonics.badge",{count:5})),1)])]),e("div",Me,[e("div",{class:"mode-card card-quiz",onClick:a[2]||(a[2]=c=>T("quiz"))},[e("div",Ee,[n(h,null,{default:r(()=>[n(f(ce))]),_:1})]),e("h3",null,s(t.$t("review.menu.quiz.title")),1),e("p",null,s(t.$t("review.menu.quiz.desc")),1),e("div",Ie,s(t.$t("review.menu.quiz.badge",{score:1200})),1)])])])])):v("",!0)]),_:1}),i.value==="flashcard"?(o(),l("div",Ne,[e("div",{class:M(["flashcard",{flipped:b.value}]),onClick:N},[e("div",Re,[e("div",{class:"btn-audio",onClick:A(R,["stop"])},[n(h,null,{default:r(()=>[n(f(S))]),_:1})]),e("div",De,s(t.$t("review.flash.tag")),1),e("div",Ve,s(u.value.front),1),e("div",je,s(t.$t("review.flash.hint_flip")),1)]),e("div",Ae,[e("div",{class:"btn-audio",onClick:A(R,["stop"])},[n(h,null,{default:r(()=>[n(f(S))]),_:1})]),e("div",Fe,s(u.value.phonetic),1),e("div",Se,s(u.value.meaning),1),e("div",Pe,[e("div",Le,s(u.value.exEn),1),e("div",Qe,s(u.value.exCn),1)])])],2),e("div",We,[x(s(t.$t("review.flash.kb_hint_prefix"))+" ",1),e("span",He,s(t.$t("review.flash.kb_space")),1),x(" "+s(t.$t("review.flash.kb_hint_suffix")),1)])])):v("",!0),i.value==="phonics"?(o(),l("div",Oe,[e("div",Ue,[e("div",Ge,s(u.value.front),1),e("div",Je,s(u.value.phonetic),1),e("div",{class:M(["recording-area",{"is-recording":m.value}])},[m.value?(o(),l("div",Ke)):v("",!0),m.value?(o(),l("div",Xe)):v("",!0),e("button",{class:"btn-mic",onClick:U},[m.value?(o(),l("div",Ye)):(o(),ee(h,{key:0,size:"30"},{default:r(()=>[n(f(F))]),_:1}))])],2),e("div",Ze,s(m.value?t.$t("review.phonics.status_recording"):t.$t("review.phonics.status_idle")),1),n(j,{name:"el-zoom-in-center"},{default:r(()=>[w.value>0?(o(),l("div",et,[e("div",tt,[e("span",st,s(w.value),1),e("span",at,s(t.$t("review.phonics.score_unit")),1)]),e("div",nt,s(D.value),1),e("button",{class:"btn btn-sm btn-light mt-3",onClick:g},s(t.$t("review.btn_next")),1)])):v("",!0)]),_:1})])])):v("",!0),i.value==="quiz"?(o(),l("div",ot,[e("div",lt,[e("div",{class:"timer-bar",style:V({width:B.value+"%"})},null,4),e("div",it,[e("h2",ct,s(u.value.front),1),e("div",rt,[(o(!0),l(te,null,se(u.value.options,(c,J)=>(o(),l("button",{key:J,class:M(["btn-option",{correct:k.value&&c.correct,wrong:k.value&&!c.correct&&c.selected}]),onClick:bt=>G(c),disabled:k.value},s(c.text),11,dt))),128))])])])])):v("",!0),y.value?(o(),l("div",ut,[e("div",vt,[n(h,null,{default:r(()=>[n(f(re))]),_:1})]),e("h2",ht,s(t.$t("review.finish.title")),1),e("p",ft,s(t.$t("review.finish.desc",{count:C.value})),1),e("button",{class:"btn btn-dark rounded-pill px-5 py-3 fw-bold",onClick:O},s(t.$t("review.finish.btn_back")),1)])):v("",!0)]),i.value==="flashcard"?(o(),l("div",_t,[b.value?(o(),l("div",mt,[e("button",{class:"btn-grade btn-again",onClick:a[3]||(a[3]=c=>g())},[x(s(t.$t("review.flash.grade.again")),1),a[7]||(a[7]=e("span",{class:"grade-sub"},"1min",-1))]),e("button",{class:"btn-grade btn-hard",onClick:a[4]||(a[4]=c=>g())},[x(s(t.$t("review.flash.grade.hard")),1),a[8]||(a[8]=e("span",{class:"grade-sub"},"2d",-1))]),e("button",{class:"btn-grade btn-good",onClick:a[5]||(a[5]=c=>g())},[x(s(t.$t("review.flash.grade.good")),1),a[9]||(a[9]=e("span",{class:"grade-sub"},"4d",-1))]),e("button",{class:"btn-grade btn-easy",onClick:a[6]||(a[6]=c=>g())},[x(s(t.$t("review.flash.grade.easy")),1),a[10]||(a[10]=e("span",{class:"grade-sub"},"7d",-1))])])):(o(),l("button",{key:0,class:"btn-show",onClick:N},s(t.$t("review.flash.btn_show")),1))])):v("",!0)])}}},kt=K(pt,[["__scopeId","data-v-51007da1"]]);export{kt as default};
