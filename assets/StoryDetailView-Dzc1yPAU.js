import{_ as $,u as D,L as S,o as T,c as l,d as s,t as a,C as g,w as M,n as f,H as k,I as b,D as x,F,G as V,q as A,r as d,h as B,i as n,E}from"./index-CVi_qNo8.js";const G={class:"detail-paper-page"},H={class:"paper-nav"},I={class:"scroll-wrapper"},q={class:"art-container"},N={class:"art-frame"},J={class:"media-box"},K=["src"],R={key:0,class:"play-mark"},U={key:0,class:"art-label"},z={class:"label-text"},W={class:"inscription-area"},j=["src"],O={class:"author-info"},P={class:"name"},Q={class:"sub"},X={class:"content-body"},Y={class:"post-title"},Z={class:"post-text"},ss={class:"tags-group"},es={class:"comments-scroll"},ts={class:"comment-divider"},as=["src"],is={class:"cmt-content"},os={class:"cmt-user"},ls={class:"cmt-text"},ns={class:"interaction-footer"},rs={class:"count"},cs={class:"input-ink"},ds=["placeholder"],us={__name:"StoryDetailView",setup(ps){const{t:u,locale:v}=D(),_=B(),w=A(),r=d(!1),c=d(""),t=d({}),p=d([]),h=()=>{const e=v.value==="en";t.value={id:1,type:"image",title:e?"Hongcun after rain is ink painting itself":"雨后的宏村，简直就是水墨画本人",desc:e?`Walking on the bluestone road, watching the horse-head walls looming in the mist. Time seems to stand still here.

My foreign friend asked if this is CG effect, I told him, this is China Style.`:`走在青石板路上，看着马头墙在雾气中若隐若现。这里的时间仿佛是静止的，每一帧都像是从古画里走出来的。

外国人朋友问我这是不是CG特效，我告诉他，这就是China Style。`,image:"https://images.unsplash.com/photo-1629737976779-797740f93026?w=800&q=80",user:"Traveler_Lee",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lee",location:e?"Anhui · Hongcun":"安徽 · 宏村",date:e?"Spring 2025":"乙巳年 · 春",tags:e?["Neo-Chinese","Architecture","Travel"]:["新中式","古建筑","旅行摄影"],likes:1208,isLiked:!1},p.value=[{id:1,user:"Jack",content:e?"Too beautiful! Like a painting.":"Too beautiful! 像画一样。",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Jack"},{id:2,user:"Art_Fan",content:e?"Great composition, saved.":"构图很有意境，收藏了。",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Art"}]};S(v,h);const y=()=>{window.history.length>1?_.back():_.push("/story")},C=()=>{r.value=!r.value,E({message:r.value?u("detail_paper.msg_followed"):u("detail_paper.msg_unfollowed"),type:"success",plain:!0})},L=()=>{t.value.isLiked=!t.value.isLiked},m=()=>{c.value.trim()&&(p.value.push({id:Date.now(),user:u("detail_paper.me"),content:c.value,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User"}),c.value="",setTimeout(()=>{const e=document.querySelector(".comments-scroll");e&&(e.scrollTop=e.scrollHeight)},100))};return T(()=>{h(),console.log("Detail loaded:",w.params.id)}),(e,i)=>(n(),l("div",G,[s("nav",H,[s("div",{class:"nav-left",onClick:y},[i[2]||(i[2]=s("i",{class:"bi bi-arrow-left"},null,-1)),s("span",null,a(e.$t("detail_paper.nav_back")),1)]),i[3]||(i[3]=s("div",{class:"nav-right"},[s("button",{class:"icon-btn"},[s("i",{class:"bi bi-three-dots"})])],-1))]),s("div",I,[s("div",q,[s("div",N,[s("div",J,[s("img",{src:t.value.image,class:"main-img",alt:"Story"},null,8,K),t.value.type==="video"?(n(),l("div",R,[...i[4]||(i[4]=[s("i",{class:"bi bi-play-fill"},null,-1)])])):g("",!0)]),t.value.location?(n(),l("div",U,[i[5]||(i[5]=s("span",{class:"vertical-line"},null,-1)),s("span",z,a(t.value.location),1)])):g("",!0)]),s("div",W,[s("div",{class:"author-row",onClick:i[0]||(i[0]=o=>e.$router.push("/user/profile"))},[s("img",{src:t.value.avatar,class:"author-face"},null,8,j),s("div",O,[s("div",P,a(t.value.user),1),s("div",Q,a(e.$t("detail_paper.date_prefix"))+" "+a(t.value.date)+" "+a(e.$t("detail_paper.date_suffix")),1)]),s("button",{class:f(["follow-ink-btn",{active:r.value}]),onClick:M(C,["stop"])},a(r.value?e.$t("detail_paper.btn_following"):e.$t("detail_paper.btn_follow")),3)]),s("div",X,[s("h1",Y,a(t.value.title),1),s("p",Z,a(t.value.desc),1),s("div",ss,[(n(!0),l(k,null,b(t.value.tags,o=>(n(),l("span",{key:o,class:"ink-tag"},"# "+a(o),1))),128))])]),s("div",es,[s("div",ts,[s("span",null,a(e.$t("detail_paper.comment_title")),1)]),(n(!0),l(k,null,b(p.value,o=>(n(),l("div",{key:o.id,class:"comment-item"},[s("img",{src:o.avatar,class:"cmt-avatar"},null,8,as),s("div",is,[s("span",os,a(o.user),1),s("span",ls,a(o.content),1)])]))),128))]),s("div",ns,[s("div",{class:"seal-action",onClick:L},[s("div",{class:f(["seal-box",{stamped:t.value.isLiked}])},a(t.value.isLiked?e.$t("detail_paper.seal_liked"):e.$t("detail_paper.seal_like")),3),s("span",rs,a(t.value.likes),1)]),s("div",cs,[x(s("input",{"onUpdate:modelValue":i[1]||(i[1]=o=>c.value=o),placeholder:e.$t("detail_paper.input_ph"),onKeyup:V(m,["enter"])},null,40,ds),[[F,c.value]]),s("button",{class:"send-ink-btn",onClick:m},[...i[6]||(i[6]=[s("i",{class:"bi bi-send"},null,-1)])])])])])])])]))}},_s=$(us,[["__scopeId","data-v-566032c6"]]);export{_s as default};
